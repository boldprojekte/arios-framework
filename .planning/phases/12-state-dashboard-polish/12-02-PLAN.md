---
phase: 12-state-dashboard-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/arios-cli/templates/.claude/commands/arios/arios.md
  - packages/arios-cli/templates/.claude/commands/arios/orchestrate.md
autonomous: true

must_haves:
  truths:
    - "User sees quick action buttons immediately on resume"
    - "Minimal context shown: phase name + last completed task only"
    - "Interrupted tasks auto-continue without restart/skip prompt"
    - "Agent verifies what was completed before proceeding"
  artifacts:
    - path: "packages/arios-cli/templates/.claude/commands/arios/arios.md"
      provides: "Action-first resume UX"
      contains: "action button"
    - path: "packages/arios-cli/templates/.claude/commands/arios/orchestrate.md"
      provides: "Auto-continue interrupted tasks logic"
      contains: "auto-continue"
  key_links:
    - from: "arios.md resume flow"
      to: "orchestrate.md auto-continue"
      via: "routing to orchestrator"
      pattern: "auto.?continue|interrupted"
---

<objective>
Implement action-first resume UX and auto-continue for interrupted tasks.

Purpose: Users returning to ARIOS should see actions first (not walls of context) and interrupted tasks should resume automatically without manual restart/skip prompts.
Output: Updated arios.md with minimal resume display, updated orchestrate.md with auto-continue logic.
</objective>

<execution_context>
@/Users/j.franke/.claude/get-shit-done/workflows/execute-plan.md
@/Users/j.franke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-state-dashboard-polish/12-CONTEXT.md
@packages/arios-cli/templates/.claude/commands/arios/arios.md
@packages/arios-cli/templates/.claude/commands/arios/orchestrate.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update arios.md resume UX to action-first</name>
  <files>packages/arios-cli/templates/.claude/commands/arios/arios.md</files>
  <action>
  Find the Resume Flow section (Section 1 or wherever resume is handled).

  Replace verbose context display with minimal action-first format:

  **Before (too verbose):**
  ```
  | Phase | Plan | Status |
  |-------|------|--------|
  | X/Y   | M/N  | [status] |

  [lots of context...]
  ```

  **After (action-first per CONTEXT.md):**
  ```
  Welcome Back to ARIOS

  Phase {N} ({phase_name}) - {last_completed_task}

  [Continue] [Status] [Other]
  ```

  The format should be:
  - One-liner status: Just phase name and last completed task
  - Three inline choices: Continue (proceed), Status (show full details), Other (help/switch)
  - No table, no detailed state dump

  For Feature-Mode, use the existing different message but same action-first pattern:
  ```
  Feature: {feature_name} - {last_completed_task}

  [Continue] [Status] [Finish]
  ```

  Keep the actual routing logic the same - just change the display format.
  </action>
  <verify>Read arios.md and confirm resume display shows only phase name + last task with three action buttons</verify>
  <done>arios.md resume flow displays minimal context (phase name + last task) with inline action buttons [Continue] [Status] [Other]</done>
</task>

<task type="auto">
  <name>Task 2: Add auto-continue logic to orchestrate.md</name>
  <files>packages/arios-cli/templates/.claude/commands/arios/orchestrate.md</files>
  <action>
  Add "Auto-Continue Interrupted Tasks" section to orchestrate.md.
  Position: After drift detection, before wave execution begins.

  Content:
  ```markdown
  ### Auto-Continue Interrupted Tasks

  When resuming a plan that was interrupted mid-execution:

  **Detection:**
  1. Read PLAN.md for current phase/plan
  2. For each task in the plan:
     - Check if expected output files exist
     - Check if git commits exist with task's commit message pattern
  3. Mark tasks as: complete (files exist), incomplete (no files)

  **Auto-continue behavior:**
  - Skip completed tasks (already done)
  - Start from first incomplete task
  - No "restart vs skip" prompt - just figure out state and continue

  **Announcement:**
  - If resuming mid-plan: "Resuming from Task {N}..." (one line)
  - If starting fresh: No announcement needed

  **Key principle:** Agent verifies what was completed before proceeding.
  The user should never be asked "restart or skip?" - the agent figures it out.
  ```

  This implements CONTEXT.md decision: "Auto-continue interrupted tasks - agent verifies what was completed before proceeding"
  </action>
  <verify>Read orchestrate.md and confirm "Auto-Continue Interrupted Tasks" section exists with detection logic and no restart/skip prompt</verify>
  <done>orchestrate.md contains auto-continue section that detects completed tasks and resumes from first incomplete without user prompt</done>
</task>

</tasks>

<verification>
- arios.md resume shows minimal "Phase N (name) - last task" with action buttons
- orchestrate.md has auto-continue section
- No "restart vs skip" prompt exists
- Build passes (files are markdown, no compile needed)
</verification>

<success_criteria>
- STATE-01 addressed: Session resume picks up exactly where left off
- Action-first presentation: buttons visible, context on demand
- Auto-continue works without prompting user
</success_criteria>

<output>
After completion, create `.planning/phases/12-state-dashboard-polish/12-02-SUMMARY.md`
</output>
