---
phase: 05-execution-flow
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/arios-cli/templates/.claude/commands/arios/ideate.md
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "User is prompted to choose approach (ground-up, balanced, ui-first) on first /ideate"
    - "Chosen approach is persisted to .planning/config.json"
    - "Subsequent /ideate runs skip approach selection if already set"
  artifacts:
    - path: "packages/arios-cli/templates/.claude/commands/arios/ideate.md"
      provides: "Approach selection integration"
      contains: "hasApproachSet"
  key_links:
    - from: "ideate.md"
      to: "approach.ts"
      via: "instructions referencing approach selection API"
      pattern: "hasApproachSet|setApproach|getApproach"
---

<objective>
Wire approach selection into /arios:ideate command.

Purpose: Close gap where approach selection API exists but no UI presents choice to user. Users should be able to choose ground-up, balanced, or ui-first approach at project start.

Output: Updated ideate.md command that prompts user for approach on first ideation.
</objective>

<execution_context>
@/Users/j.franke/.claude/get-shit-done/workflows/execute-plan.md
@/Users/j.franke/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/arios-cli/templates/.claude/commands/arios/ideate.md
@packages/arios-cli/src/config/approach.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add approach selection to ideate command</name>
  <files>packages/arios-cli/templates/.claude/commands/arios/ideate.md</files>
  <action>
Update the /arios:ideate command to include approach selection workflow:

1. Add to Variables section:
   - Reference .planning/config.json for approach settings

2. Add to Instructions section:
   - On first project ideation (no approach set), offer approach selection
   - Show three options with descriptions:
     * ground-up: Foundation first (data models, business logic, then UI)
     * balanced (default): Interleave UI and logic as each feature requires
     * ui-first: Visual mockups with stub data first, then wire real data
   - After selection, persist to config.json (via setApproach)
   - Skip selection if approach already set (check via hasApproachSet)

3. Update Workflow section:
   - After step 2 (Read STATE.md), insert new step 3:
     Check if approach is set:
     - If not set: Present approach selection prompt with 3 options and descriptions
     - Wait for user choice
     - Acknowledge selection: "Approach set to: {choice}"
   - Renumber subsequent steps

4. Add approach guidance to Report section:
   - Include current approach in status output

The instructions should reference the approach.ts module conceptually (Claude will use the approach API when processing the command). Do NOT add TypeScript import statements - this is a markdown command template that instructs Claude's behavior.

Example approach selection prompt:
```
Before we begin ideation, let's set your development approach:

1. **ground-up** - Build foundation first (data models → business logic → API → UI)
2. **balanced** - Interleave UI and logic as each feature requires (default)
3. **ui-first** - Visual mockups with stub data first, then wire real data

Which approach? (1/2/3 or name):
```
  </action>
  <verify>
Read the updated ideate.md file and confirm:
- Approach selection prompt is documented in Workflow section
- Instructions mention checking hasApproachSet
- Report section includes approach in status
  </verify>
  <done>
ideate.md command template updated with approach selection workflow that prompts user on first ideation and persists choice
  </done>
</task>

</tasks>

<verification>
1. Read packages/arios-cli/templates/.claude/commands/arios/ideate.md
2. Verify approach selection workflow step exists
3. Verify three approach options (ground-up, balanced, ui-first) are documented with descriptions
4. Verify persistence mention (config.json)
5. Verify skip logic for already-set approach
</verification>

<success_criteria>
- ideate.md includes approach selection workflow step
- Three approaches documented with descriptions matching approach.ts
- First ideation triggers selection, subsequent runs skip it
- Approach shown in status output
</success_criteria>

<output>
After completion, create `.planning/phases/05-execution-flow/05-06-SUMMARY.md`
</output>
